
# the upstream component nginx needs to connect to
upstream django {
    server unix:///home/student/backend/backend.sock; # for a file socket
   # server 127.0.0.1:8001; # for a web port socket (we'll use this first)
}


server {
	listen 80 default_server;
	listen [::]:80 default_server;
	#server_name  420-01-vm2.ucd.ie dublinroute.com www.dublinroute.com;
	server_name  dublinroute.com www.dublinroute.com;
	root /home/student/backend/templates/;
	charset     utf-8;
	#
	index index.html;

	# serve django static files
	location /static/ {
      		autoindex on;
       		alias /home/student/backend/static/;
   	}

    	#server_name  420-01-vm2.ucd.ie dublinroute.com www.dublinroute.com;

	# Finally, send all non-media requests to the Django server.
 	location / {
        	uwsgi_pass Django; # http://unix:///tmp/backend.sock;
        	include /etc/nginx/uwsgi_params; # the uwsgi_params file you installed
	}

}


